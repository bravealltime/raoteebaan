(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[258],{1454:(e,l,r)=>{"use strict";r.d(l,{r:()=>c});var s=r(7876),a=r(6188),t=r(9461),i=r(6044);let o=(0,t.R)(function(e,l){let{templateAreas:r,gap:a,rowGap:t,columnGap:o,column:n,row:d,autoFlow:c,autoRows:x,templateRows:h,autoColumns:u,templateColumns:m,...b}=e;return(0,s.jsx)(i.B.div,{ref:l,__css:{display:"grid",gridTemplateAreas:r,gridGap:a,gridRowGap:t,gridColumnGap:o,gridAutoColumns:u,gridColumn:n,gridRow:d,gridAutoFlow:c,gridAutoRows:x,gridTemplateRows:h,gridTemplateColumns:m},...b})});o.displayName="Grid";var n=r(59),d=r(6674);let c=(0,t.R)(function(e,l){var r,t,i;let{columns:c,spacingX:x,spacingY:h,spacing:u,minChildWidth:m,...b}=e,j=(0,n.D)(),p=m?(r=m,t=j,(0,a.bk)(r,e=>{let l=(0,d.gf)("sizes",e,"number"==typeof e?`${e}px`:e)(t);return null===e?null:`repeat(auto-fit, minmax(${l}, 1fr))`})):(i=c,(0,a.bk)(i,e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`));return(0,s.jsx)(o,{ref:l,gap:u,columnGap:x,rowGap:h,templateColumns:p,...b})});c.displayName="SimpleGrid"},1632:(e,l,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-users",function(){return r(3799)}])},2665:(e,l,r)=>{"use strict";r.d(l,{Tr:()=>o});var s=r(7876),a=r(9407),t=r(9461),i=r(6044);let o=(0,t.R)((e,l)=>{let r=(0,a.k)();return(0,s.jsx)(i.B.tr,{...e,ref:l,__css:r.tr})})},2736:(e,l,r)=>{"use strict";r.d(l,{D:()=>d});var s=r(7876),a=r(9185),t=r(5255),i=r(9461),o=r(4013),n=r(6044);let d=(0,i.R)(function(e,l){let r=(0,o.V)("Heading",e),{className:i,...d}=(0,a.M)(e);return(0,s.jsx)(n.B.h2,{ref:l,className:(0,t.cx)("chakra-heading",e.className),...d,__css:r})});d.displayName="Heading"},3043:(e,l,r)=>{"use strict";r.d(l,{N:()=>o});var s=r(7876),a=r(9407),t=r(9461),i=r(6044);let o=(0,t.R)((e,l)=>{let r=(0,a.k)();return(0,s.jsx)(i.B.tbody,{...e,ref:l,__css:r.tbody})})},3611:(e,l,r)=>{"use strict";r.d(l,{db:()=>x,j:()=>c});var s=r(6042),a=r(9917),t=r(2964),i=r(5226),o=r(5364);let n={apiKey:o.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyDtZQ_gX9xWqGQgxQMBzTH8c9o6t-ZsvKc",authDomain:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"raoteebaan.firebaseapp.com",databaseURL:o.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL||"https://raoteebaan-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"raoteebaan",storageBucket:o.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"raoteebaan.appspot.com",messagingSenderId:o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"986271509277",appId:o.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:986271509277:web:ff35142f2eabe2063c0ff4",measurementId:o.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-YW7ZP3B4TC"},d=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)(n),c=(0,a.xI)(d),x=(0,t.aU)(d);(0,i.c7)(d)},3799:(e,l,r)=>{"use strict";r.r(l),r.d(l,{default:()=>U});var s=r(7876),a=r(4232),t=r(9099),i=r(3611),o=r(2964),n=r(5377),d=r(8443),c=r(851),x=r(9955),h=r(2736),u=r(1454),m=r(1921),b=r(9803),j=r(5812),p=r(6491),f=r(8072),g=r(9407),v=r(3973),S=r(2665),y=r(5791),_=r(3043),R=r(4435),w=r(3782),E=r(7523),C=r(485),T=r(184),I=r(2426),B=r(8965),N=r(7961),k=r(5539),A=r(6078),z=r(3869),L=r(6676),P=r(4275),W=r(6923),D=r(3149),H=r(9218),G=r(2902),$=r(2870),M=r(9917),F=r(6447);function U(){let e=(0,t.useRouter)(),[l,r]=(0,a.useState)(null),[U,X]=(0,a.useState)([]),[O,J]=(0,a.useState)([]),[q,K]=(0,a.useState)([]),[Q,V]=(0,a.useState)(!0),[Y,Z]=(0,a.useState)(""),[ee,el]=(0,a.useState)(""),er=(0,n.d)(),[es,ea]=(0,a.useState)(!1),[et,ei]=(0,a.useState)({name:"",email:"",role:"user",status:"active"}),[eo,en]=(0,a.useState)(!1),[ed,ec]=(0,a.useState)(null),[ex,eh]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let l=(0,M.hg)(i.j,async l=>{if(!l)return void e.replace("/login");let s=await (0,o.x7)((0,o.H9)(i.db,"users",l.uid)),a=s.exists()?s.data().role:"user";if(r(a),"admin"!==a){if("owner"===a)return void e.replace("/rooms");if("employee"===a)return void e.replace("/employee-dashboard");e.replace("/dashboard")}});return()=>l()},[]),(0,a.useEffect)(()=>{"admin"===l&&(V(!0),Promise.all([(0,o.GG)((0,o.rJ)(i.db,"users")),(0,o.GG)((0,o.rJ)(i.db,"rooms")),(0,o.GG)((0,o.rJ)(i.db,"bills"))]).then(e=>{let[l,r,s]=e;X(l.docs.map(e=>({id:e.id,...e.data()}))),J(r.docs.map(e=>({id:e.id,...e.data()}))),K(s.docs.map(e=>({id:e.id,...e.data()}))),V(!1)}))},[l]);let eu=async()=>{en(!0);try{let e=await fetch("/api/create-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(et)}),l=await e.json();if(e.ok){er({title:"เพิ่มผู้ใช้สำเร็จ",description:"ลิงก์ตั้งรหัสผ่านถูกส่งไปที่อีเมลแล้ว",status:"success",duration:5e3,isClosable:!0}),ec(l.resetLink),eh(!0),ei({name:"",email:"",role:"user",status:"active"});let e=await (0,o.GG)((0,o.rJ)(i.db,"users"));X(e.docs.map(e=>({id:e.id,...e.data()})))}else er({title:"เพิ่มผู้ใช้ไม่สำเร็จ",description:l.error,status:"error"})}catch(e){er({title:"เพิ่มผู้ใช้ไม่สำเร็จ",description:"เกิดข้อผิดพลาดในการเชื่อมต่อ",status:"error"})}finally{en(!1)}},em=()=>{eh(!1),ec(null),ea(!1)};return null===l?(0,s.jsx)(d.o,{minH:"100vh",children:(0,s.jsx)(c.y,{color:"blue.400"})}):"admin"!==l?null:(0,s.jsxs)(F.A,{role:l,children:[(0,s.jsxs)(x.a,{flex:1,p:[2,4,8],children:[(0,s.jsxs)(h.D,{color:"blue.600",fontSize:"2xl",mb:6,display:"flex",alignItems:"center",gap:2,children:[(0,s.jsx)($.e7y,{})," Admin Panel"]}),(0,s.jsxs)(u.r,{columns:[1,2,4],spacing:4,mb:6,children:[(0,s.jsxs)(x.a,{bg:"white",borderRadius:"xl",p:6,color:"blue.700",display:"flex",alignItems:"center",gap:4,boxShadow:"md",border:"1.5px solid #e3f2fd",children:[(0,s.jsx)($.M5n,{fontSize:"2xl"}),(0,s.jsxs)(x.a,{children:[(0,s.jsx)(m.E,{fontWeight:"bold",fontSize:"lg",children:"ผู้ใช้ทั้งหมด"}),(0,s.jsx)(m.E,{fontSize:"2xl",children:U.length})]})]}),(0,s.jsxs)(x.a,{bg:"white",borderRadius:"xl",p:6,color:"yellow.700",display:"flex",alignItems:"center",gap:4,boxShadow:"md",border:"1.5px solid #ffe082",children:[(0,s.jsx)($.Hu1,{fontSize:"2xl",color:"#ffd700"}),(0,s.jsxs)(x.a,{children:[(0,s.jsx)(m.E,{fontWeight:"bold",fontSize:"lg",children:"ผู้ดูแลระบบ"}),(0,s.jsx)(m.E,{fontSize:"2xl",children:U.filter(e=>"admin"===e.role).length})]})]}),(0,s.jsxs)(x.a,{bg:"white",borderRadius:"xl",p:6,color:"green.700",display:"flex",alignItems:"center",gap:4,boxShadow:"md",border:"1.5px solid #c8e6c9",children:[(0,s.jsx)($.rQ8,{fontSize:"2xl"}),(0,s.jsxs)(x.a,{children:[(0,s.jsx)(m.E,{fontWeight:"bold",fontSize:"lg",children:"ห้องทั้งหมด"}),(0,s.jsx)(m.E,{fontSize:"2xl",children:O.length})]})]}),(0,s.jsxs)(x.a,{bg:"white",borderRadius:"xl",p:6,color:"purple.700",display:"flex",alignItems:"center",gap:4,boxShadow:"md",border:"1.5px solid #e1bee7",children:[(0,s.jsx)($.TlC,{fontSize:"2xl"}),(0,s.jsxs)(x.a,{children:[(0,s.jsx)(m.E,{fontWeight:"bold",fontSize:"lg",children:"บิลทั้งหมด"}),(0,s.jsx)(m.E,{fontSize:"2xl",children:q.length})]})]})]}),(0,s.jsxs)(x.a,{bg:"white",borderRadius:"2xl",p:6,color:"gray.800",boxShadow:"xl",border:"1.5px solid #e3f2fd",children:[(0,s.jsxs)(b.s,{mb:4,gap:2,align:"center",flexWrap:"wrap",children:[(0,s.jsx)(j.$,{leftIcon:(0,s.jsx)($.M5n,{}),colorScheme:"blue",variant:"solid",borderRadius:"xl",fontWeight:"bold",mr:2,children:"จัดการผู้ใช้"}),(0,s.jsx)(j.$,{colorScheme:"gray",variant:"ghost",borderRadius:"xl",fontWeight:"bold",mr:2,children:"จัดการสิทธิ์"}),(0,s.jsx)(j.$,{colorScheme:"gray",variant:"ghost",borderRadius:"xl",fontWeight:"bold",children:"รายงาน"}),(0,s.jsx)(p.p,{placeholder:"ค้นหาผู้ใช้...",maxW:"220px",bg:"gray.50",borderRadius:"xl",color:"gray.800",mr:2,value:Y,onChange:e=>Z(e.target.value)}),(0,s.jsxs)(f.l,{maxW:"160px",bg:"gray.50",borderRadius:"xl",color:"gray.800",value:ee,onChange:e=>el(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"ทุกสิทธิ์"}),(0,s.jsx)("option",{value:"admin",children:"ผู้ดูแลระบบ"}),(0,s.jsx)("option",{value:"juristic",children:"นิติ"}),(0,s.jsx)("option",{value:"technician",children:"ช่าง"}),(0,s.jsx)("option",{value:"owner",children:"เจ้าของห้อง"}),(0,s.jsx)("option",{value:"user",children:"ลูกบ้าน"})]}),(0,s.jsx)(j.$,{leftIcon:(0,s.jsx)($.OiG,{}),colorScheme:"green",borderRadius:"xl",fontWeight:"bold",ml:"auto",onClick:()=>ea(!0),children:"เพิ่มผู้ใช้"})]}),(0,s.jsx)(x.a,{overflowX:"auto",children:(0,s.jsxs)(g.X,{variant:"simple",colorScheme:"gray",bg:"white",borderRadius:"xl",children:[(0,s.jsx)(v.d,{children:(0,s.jsxs)(S.Tr,{children:[(0,s.jsx)(y.Th,{color:"blue.700",children:"รูปโปรไฟล์"}),(0,s.jsx)(y.Th,{color:"blue.700",children:"ชื่อ"}),(0,s.jsx)(y.Th,{color:"blue.700",children:"อีเมล"}),(0,s.jsx)(y.Th,{color:"blue.700",children:"สิทธิ์"}),(0,s.jsx)(y.Th,{color:"blue.700",children:"วันที่สมัคร"}),(0,s.jsx)(y.Th,{color:"blue.700",children:"สถานะ"}),(0,s.jsx)(y.Th,{color:"blue.700",children:"จัดการ"})]})}),(0,s.jsx)(_.N,{children:Q?(0,s.jsx)(S.Tr,{children:(0,s.jsx)(R.Td,{colSpan:7,children:(0,s.jsx)(c.y,{color:"blue.300"})})}):U.filter(e=>{var l,r;return(!Y||(null==(l=e.name)?void 0:l.toLowerCase().includes(Y.toLowerCase()))||(null==(r=e.email)?void 0:r.toLowerCase().includes(Y.toLowerCase())))&&(!ee||e.role===ee)}).map((e,l)=>(0,s.jsxs)(S.Tr,{_hover:{bg:"blue.50"},children:[(0,s.jsx)(R.Td,{children:(0,s.jsx)(w.e,{name:e.name,src:e.avatar,size:"sm"})}),(0,s.jsx)(R.Td,{fontWeight:"bold",children:e.name}),(0,s.jsx)(R.Td,{children:e.email}),(0,s.jsx)(R.Td,{children:"admin"===e.role?(0,s.jsx)(E.E,{colorScheme:"yellow",borderRadius:"full",children:"ผู้ดูแลระบบ"}):"juristic"===e.role?(0,s.jsx)(E.E,{colorScheme:"purple",borderRadius:"full",children:"นิติ"}):"technician"===e.role?(0,s.jsx)(E.E,{colorScheme:"orange",borderRadius:"full",children:"ช่าง"}):"owner"===e.role?(0,s.jsx)(E.E,{colorScheme:"green",borderRadius:"full",children:"เจ้าของห้อง"}):(0,s.jsx)(E.E,{colorScheme:"blue",borderRadius:"full",children:"ลูกบ้าน"})}),(0,s.jsx)(R.Td,{children:e.createdAt?new Date(1e3*e.createdAt.seconds).toLocaleDateString("th-TH"):"-"}),(0,s.jsx)(R.Td,{children:(0,s.jsx)(E.E,{colorScheme:"active"===e.status?"green":"gray",borderRadius:"full",children:"active"===e.status?"ใช้งานได้":"ไม่ใช้งาน"})}),(0,s.jsxs)(R.Td,{children:[(0,s.jsx)(C.K,{"aria-label":"edit",icon:(0,s.jsx)($.uO9,{}),colorScheme:"blue",variant:"ghost",borderRadius:"full",mr:1}),(0,s.jsx)(C.K,{"aria-label":"ban",icon:(0,s.jsx)($.Rqy,{}),colorScheme:"orange",variant:"ghost",borderRadius:"full",mr:1}),(0,s.jsx)(C.K,{"aria-label":"delete",icon:(0,s.jsx)($.qbC,{}),colorScheme:"red",variant:"ghost",borderRadius:"full"})]})]},e.id))})]})})]})]}),(0,s.jsxs)(T.aF,{isOpen:es,onClose:()=>ea(!1),isCentered:!0,size:"md",children:[(0,s.jsx)(I.m,{}),(0,s.jsxs)(B.$,{borderRadius:"2xl",p:2,children:[(0,s.jsx)(N.r,{fontWeight:"bold",color:"blue.600",children:"เพิ่มผู้ใช้ใหม่"}),(0,s.jsx)(k.s,{}),(0,s.jsxs)(A.c,{children:[(0,s.jsxs)(z.MJ,{mb:3,children:[(0,s.jsx)(L.l,{children:"ชื่อ"}),(0,s.jsx)(p.p,{value:et.name,onChange:e=>ei(l=>({...l,name:e.target.value})),placeholder:"ชื่อผู้ใช้"})]}),(0,s.jsxs)(z.MJ,{mb:3,children:[(0,s.jsx)(L.l,{children:"อีเมล"}),(0,s.jsx)(p.p,{value:et.email,onChange:e=>ei(l=>({...l,email:e.target.value})),placeholder:"อีเมล",type:"email"})]}),(0,s.jsxs)(z.MJ,{mb:3,children:[(0,s.jsx)(L.l,{children:"สิทธิ์"}),(0,s.jsxs)(f.l,{value:et.role,onChange:e=>ei(l=>({...l,role:e.target.value})),children:[(0,s.jsx)("option",{value:"admin",children:"ผู้ดูแลระบบ"}),(0,s.jsx)("option",{value:"juristic",children:"นิติ"}),(0,s.jsx)("option",{value:"technician",children:"ช่าง"}),(0,s.jsx)("option",{value:"owner",children:"เจ้าของห้อง"}),(0,s.jsx)("option",{value:"user",children:"ลูกบ้าน"})]})]}),(0,s.jsxs)(z.MJ,{mb:3,children:[(0,s.jsx)(L.l,{children:"สถานะ"}),(0,s.jsxs)(f.l,{value:et.status,onChange:e=>ei(l=>({...l,status:e.target.value})),children:[(0,s.jsx)("option",{value:"active",children:"ใช้งานได้"}),(0,s.jsx)("option",{value:"inactive",children:"ไม่ใช้งาน"})]})]})]}),(0,s.jsxs)(P.j,{children:[(0,s.jsx)(j.$,{colorScheme:"blue",mr:3,onClick:eu,isLoading:eo,borderRadius:"xl",fontWeight:"bold",children:"บันทึก"}),(0,s.jsx)(j.$,{variant:"ghost",onClick:()=>ea(!1),borderRadius:"xl",children:"ยกเลิก"})]})]})]}),(0,s.jsxs)(T.aF,{isOpen:ex,onClose:em,isCentered:!0,size:"lg",children:[(0,s.jsx)(I.m,{}),(0,s.jsxs)(B.$,{borderRadius:"2xl",p:2,children:[(0,s.jsxs)(N.r,{fontWeight:"bold",color:"green.600",display:"flex",alignItems:"center",gap:2,children:[(0,s.jsx)($.maD,{})," ลิงก์ตั้งรหัสผ่าน"]}),(0,s.jsx)(k.s,{}),(0,s.jsxs)(A.c,{children:[(0,s.jsxs)(W.F,{status:"success",borderRadius:"xl",mb:4,children:[(0,s.jsx)(D._,{}),(0,s.jsxs)(x.a,{children:[(0,s.jsx)(H.X,{children:"สร้างผู้ใช้สำเร็จ!"}),(0,s.jsx)(G.T,{children:"ผู้ใช้ใหม่ถูกสร้างเรียบร้อยแล้ว กรุณาส่งลิงก์ด้านล่างไปให้ผู้ใช้เพื่อตั้งรหัสผ่านใหม่"})]})]}),(0,s.jsxs)(x.a,{bg:"gray.50",p:4,borderRadius:"xl",border:"1px solid",borderColor:"gray.200",children:[(0,s.jsx)(m.E,{fontWeight:"bold",mb:2,color:"gray.700",children:"ลิงก์ตั้งรหัสผ่าน:"}),(0,s.jsx)(m.E,{fontSize:"sm",color:"gray.600",wordBreak:"break-all",mb:3,children:ed}),(0,s.jsx)(j.$,{leftIcon:(0,s.jsx)($.maD,{}),colorScheme:"blue",size:"sm",onClick:()=>{ed&&(navigator.clipboard.writeText(ed),er({title:"คัดลอกลิงก์แล้ว",status:"success",duration:2e3}))},borderRadius:"xl",children:"คัดลอกลิงก์"})]}),(0,s.jsx)(m.E,{fontSize:"sm",color:"gray.500",mt:3,children:"\uD83D\uDCA1 เคล็ดลับ: ลิงก์นี้จะหมดอายุใน 1 ชั่วโมง ผู้ใช้สามารถคลิกลิงก์เพื่อตั้งรหัสผ่านใหม่ได้"})]}),(0,s.jsx)(P.j,{children:(0,s.jsx)(j.$,{colorScheme:"green",onClick:em,borderRadius:"xl",fontWeight:"bold",children:"เข้าใจแล้ว"})})]})]})]})}},3973:(e,l,r)=>{"use strict";r.d(l,{d:()=>o});var s=r(7876),a=r(9407),t=r(9461),i=r(6044);let o=(0,t.R)((e,l)=>{let r=(0,a.k)();return(0,s.jsx)(i.B.thead,{...e,ref:l,__css:r.thead})})},4435:(e,l,r)=>{"use strict";r.d(l,{Td:()=>o});var s=r(7876),a=r(9407),t=r(9461),i=r(6044);let o=(0,t.R)(({isNumeric:e,...l},r)=>{let t=(0,a.k)();return(0,s.jsx)(i.B.td,{...l,ref:r,__css:t.td,"data-is-numeric":e})})},5539:(e,l,r)=>{"use strict";r.d(l,{s:()=>n});var s=r(7876),a=r(5255),t=r(7396),i=r(184),o=r(479);let n=(0,r(9461).R)((e,l)=>{let{onClick:r,className:n,...d}=e,{onClose:c}=(0,i.k3)(),x=(0,a.cx)("chakra-modal__close-btn",n),h=(0,i.x5)();return(0,s.jsx)(o.J,{ref:l,__css:h.closeButton,className:x,onClick:(0,t.H)(r,e=>{e.stopPropagation(),c()}),...d})});n.displayName="ModalCloseButton"},5791:(e,l,r)=>{"use strict";r.d(l,{Th:()=>o});var s=r(7876),a=r(9407),t=r(9461),i=r(6044);let o=(0,t.R)(({isNumeric:e,...l},r)=>{let t=(0,a.k)();return(0,s.jsx)(i.B.th,{...l,ref:r,__css:t.th,"data-is-numeric":e})})},6447:(e,l,r)=>{"use strict";r.d(l,{A:()=>b});var s=r(7876),a=r(9955),t=r(9803),i=r(8619),o=r(5812),n=r(8230),d=r.n(n),c=r(9099),x=r(2870);function h(e){let{role:l}=e,r=(0,c.useRouter)();return(0,s.jsxs)(a.a,{w:["70px","220px"],minH:"calc(100vh - 64px)",bg:"white",borderRight:"1.5px solid #e3f2fd",boxShadow:"0 2px 16px 0 rgba(33,150,243,0.06)",px:[1,4],py:6,display:"flex",flexDirection:"column",gap:4,zIndex:2,children:["admin"===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{href:"/dashboard",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.rQ8,{}),colorScheme:"blue",variant:"/dashboard"===r.pathname?"solid":"ghost",borderRadius:"xl",fontWeight:"bold",mb:2,w:"full",justifyContent:"flex-start",children:"Dashboard"})}),(0,s.jsx)(d(),{href:"/rooms",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.rQ8,{}),colorScheme:"blue",variant:"/rooms"===r.pathname?"solid":"ghost",borderRadius:"xl",fontWeight:"bold",mb:2,w:"full",justifyContent:"flex-start",children:"Rooms"})}),(0,s.jsx)(d(),{href:"/inbox",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.opL,{}),colorScheme:"gray",variant:"/inbox"===r.pathname?"solid":"ghost",borderRadius:"xl",mb:2,w:"full",justifyContent:"flex-start",children:"Inbox"})}),(0,s.jsx)(d(),{href:"/parcel",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.TXh,{}),colorScheme:"gray",variant:"/parcel"===r.pathname?"solid":"ghost",borderRadius:"xl",mb:2,w:"full",justifyContent:"flex-start",children:"Parcel"})}),(0,s.jsx)(d(),{href:"/employee",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.M5n,{}),colorScheme:"gray",variant:"/employee"===r.pathname?"solid":"ghost",borderRadius:"xl",mb:8,w:"full",justifyContent:"flex-start",children:"Employee"})})]}),"owner"===l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d(),{href:"/rooms",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.rQ8,{}),colorScheme:"blue",variant:"/rooms"===r.pathname?"solid":"ghost",borderRadius:"xl",fontWeight:"bold",mb:2,w:"full",justifyContent:"flex-start",children:"Rooms"})}),(0,s.jsx)(d(),{href:"/inbox",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.opL,{}),colorScheme:"gray",variant:"/inbox"===r.pathname?"solid":"ghost",borderRadius:"xl",mb:2,w:"full",justifyContent:"flex-start",children:"Inbox"})}),(0,s.jsx)(d(),{href:"/parcel",passHref:!0,legacyBehavior:!0,children:(0,s.jsx)(o.$,{as:"a",leftIcon:(0,s.jsx)(x.TXh,{}),colorScheme:"gray",variant:"/parcel"===r.pathname?"solid":"ghost",borderRadius:"xl",mb:8,w:"full",justifyContent:"flex-start",children:"Parcel"})})]})]})}var u=r(3042),m=r(9865);function b(e){let{children:l,role:r}=e;return(0,s.jsxs)(a.a,{minH:"100vh",children:[(0,s.jsx)(i.A,{}),(0,s.jsxs)(t.s,{minH:"100vh",p:0,children:[(0,s.jsx)(h,{role:r}),(0,s.jsx)(u.N,{mode:"wait",children:(0,s.jsx)(m.P.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},exit:{opacity:0,y:-24},transition:{duration:.35,ease:"easeInOut"},style:{flex:1},children:l},window.location.pathname)})]})]})}},6676:(e,l,r)=>{"use strict";r.d(l,{l:()=>c});var s=r(7876),a=r(9185),t=r(5255),i=r(3869),o=r(9461),n=r(4013),d=r(6044);let c=(0,o.R)(function(e,l){let r=(0,n.V)("FormLabel",e),o=(0,a.M)(e),{className:c,children:h,requiredIndicator:u=(0,s.jsx)(x,{}),optionalIndicator:m=null,...b}=o,j=(0,i.Uc)(),p=j?.getLabelProps(b,l)??{ref:l,...b};return(0,s.jsxs)(d.B.label,{...p,className:(0,t.cx)("chakra-form__label",o.className),__css:{display:"block",textAlign:"start",...r},children:[h,j?.isRequired?u:m]})});c.displayName="FormLabel";let x=(0,o.R)(function(e,l){let r=(0,i.Uc)(),a=(0,i.TP)();if(!r?.isRequired)return null;let o=(0,t.cx)("chakra-form__required-indicator",e.className);return(0,s.jsx)(d.B.span,{...r?.getRequiredIndicatorProps(e,l),__css:a.requiredIndicator,className:o})});x.displayName="RequiredIndicator"},7523:(e,l,r)=>{"use strict";r.d(l,{E:()=>d});var s=r(7876),a=r(9185),t=r(5255),i=r(9461),o=r(4013),n=r(6044);let d=(0,i.R)(function(e,l){let r=(0,o.V)("Badge",e),{className:i,...d}=(0,a.M)(e);return(0,s.jsx)(n.B.span,{ref:l,className:(0,t.cx)("chakra-badge",e.className),...d,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});d.displayName="Badge"},8072:(e,l,r)=>{"use strict";r.d(l,{l:()=>m});var s=r(7876),a=r(9185),t=r(3527),i=r(7089),o=r(4232),n=r(5255),d=r(9461),c=r(6044);let x=(0,d.R)(function(e,l){let{children:r,placeholder:a,className:t,...i}=e;return(0,s.jsxs)(c.B.select,{...i,ref:l,className:(0,n.cx)("chakra-select",t),children:[a&&(0,s.jsx)("option",{value:"",children:a}),r]})});x.displayName="SelectField";var h=r(667),u=r(4013);let m=(0,d.R)((e,l)=>{let r=(0,u.o)("Select",e),{rootProps:o,placeholder:n,icon:d,color:m,height:b,h:j,minH:f,minHeight:g,iconColor:v,iconSize:S,...y}=(0,a.M)(e),[_,R]=function(e,l){let r={},s={};for(let[a,t]of Object.entries(e))l.includes(a)?r[a]=t:s[a]=t;return[r,s]}(y,t.GF),w=(0,h.t)(R),E={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...r.field?._focus}};return(0,s.jsxs)(c.B.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:m},..._,...o,children:[(0,s.jsx)(x,{ref:l,height:j??b,minH:f??g,placeholder:n,...w,__css:E,children:e.children}),(0,s.jsx)(p,{"data-disabled":(0,i.s)(w.disabled),...(v||m)&&{color:v||m},__css:r.icon,...S&&{fontSize:S},children:d})]})});m.displayName="Select";let b=e=>(0,s.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,s.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),j=(0,c.B)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),p=e=>{let{children:l=(0,s.jsx)(b,{}),...r}=e,a=(0,o.cloneElement)(l,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,s.jsx)(j,{...r,className:"chakra-select__icon-wrapper",children:(0,o.isValidElement)(l)?a:null})};p.displayName="SelectIcon"},8619:(e,l,r)=>{"use strict";r.d(l,{A:()=>b});var s=r(7876),a=r(9803),t=r(1921),i=r(7365),o=r(3782),n=r(9955),d=r(485),c=r(2870),x=r(9099),h=r(4232),u=r(3611),m=r(2964);function b(e){let{user:l}=e,r=(0,x.useRouter)(),[b,j]=(0,h.useState)({name:(null==l?void 0:l.name)||"xxx",avatar:null==l?void 0:l.avatar,greeting:null==l?void 0:l.greeting}),[p,f]=(0,h.useState)(null);return(0,h.useEffect)(()=>{let e=u.j.currentUser;e?(j({name:e.displayName||(null==l?void 0:l.name)||"xxx",avatar:e.photoURL||(null==l?void 0:l.avatar),greeting:new Date().toLocaleString("th-TH",{dateStyle:"full",timeStyle:"short"})}),(0,m.x7)((0,m.H9)(u.db,"users",e.uid)).then(e=>{f(e.exists()?e.data().role:"user")})):(j({name:(null==l?void 0:l.name)||"xxx",avatar:null==l?void 0:l.avatar,greeting:new Date().toLocaleString("th-TH",{dateStyle:"full",timeStyle:"short"})}),f(null))},[l]),(0,s.jsxs)(a.s,{as:"header",w:"full",px:[2,4,8],py:[2,3],align:"center",bg:"whiteAlpha.800",borderRadius:"2xl",boxShadow:"0 4px 24px 0 rgba(33, 150, 243, 0.10)",mt:[2,4],mb:[4,8],maxW:"100vw",minH:"64px",position:"relative",zIndex:10,style:{backdropFilter:"blur(12px)"},border:"1.5px solid #e3f2fd",children:[(0,s.jsx)(t.E,{fontWeight:"extrabold",fontSize:["lg","2xl"],color:"blue.500",mr:6,letterSpacing:1,children:"TeeRao"}),(0,s.jsx)(i.h,{}),(0,s.jsxs)(a.s,{align:"center",gap:3,children:[(0,s.jsx)(o.e,{size:"md",name:b.name||"",src:b.avatar,border:"2.5px solid white",boxShadow:"md",bg:"blue.100",color:"blue.700",cursor:"pointer",onClick:()=>r.push("/profile")}),(0,s.jsxs)(n.a,{textAlign:"left",cursor:"pointer",onClick:()=>r.push("/profile"),children:[(0,s.jsxs)(t.E,{fontWeight:"bold",fontSize:"md",color:"gray.800",children:["สวัสดีคุณ ",b.name||"xxx"]}),(0,s.jsx)(t.E,{fontSize:"xs",color:"gray.400",children:b.greeting||"อาทิตย์ 21 มิ.ย. 2568"})]}),"admin"===p&&(0,s.jsx)(d.K,{"aria-label":"Settings",icon:(0,s.jsx)(c.Pcn,{}),variant:"ghost",fontSize:"xl",color:"blue.500",_hover:{bg:"blue.50",color:"blue.600"},borderRadius:"full",onClick:()=>r.push("/admin-users")}),(0,s.jsx)(d.K,{"aria-label":"Notifications",icon:(0,s.jsx)(c.jNV,{}),variant:"ghost",fontSize:"xl",color:"blue.500",_hover:{bg:"blue.50",color:"blue.600"},borderRadius:"full"})]})]})}},9407:(e,l,r)=>{"use strict";r.d(l,{X:()=>h,k:()=>x});var s=r(7876),a=r(9185),t=r(6229),i=r(5255),o=r(9461),n=r(4013),d=r(6044);let[c,x]=(0,t.q)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),h=(0,o.R)((e,l)=>{let r=(0,n.o)("Table",e),{className:t,layout:o,...x}=(0,a.M)(e);return(0,s.jsx)(c,{value:r,children:(0,s.jsx)(d.B.table,{ref:l,__css:{tableLayout:o,...r.table},className:(0,i.cx)("chakra-table",t),...x})})});h.displayName="Table"}},e=>{var l=l=>e(e.s=l);e.O(0,[671,871,465,169,981,636,593,792],()=>l(1632)),_N_E=e.O()}]);